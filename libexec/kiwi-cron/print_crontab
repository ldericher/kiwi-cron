#!/bin/sh

print_cron_schedule () {
  pcs_minute="${1}"
  pcs_hour="${2}"
  pcs_day="${3}"
  pcs_month="${4}"
  pcs_weekday="${5}"
  pcs_command="${6}"

  printf '%-8s%-8s%-8s%-8s%-8s%s\n' \
    "${pcs_minute}" "${pcs_hour}" "${pcs_day}" "${pcs_month}" "${pcs_weekday}" "${pcs_command}"
}

# header
echo '# crontab generated by kiwi-cron'
echo '# generation time: '"$(date)"
echo '#'

# short documentation line
print_cron_schedule \
  "# min" "hour" "day" "month" "weekday" "command" 

# schedules
while read -r pc_min pc_hour pc_day pc_month pc_weekday pc_command; do
  print_cron_schedule \
    "${pc_min}" "${pc_hour}" "${pc_day}" "${pc_month}" "${pc_weekday}" "${pc_command}" 
done
